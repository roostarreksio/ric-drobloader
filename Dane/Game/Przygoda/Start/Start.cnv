OBJECT=MUSIC
MUSIC:TYPE=MUSIC
MUSIC:FILENAME=PAGORKI.WAV

OBJECT=VARSCHEAT
VARSCHEAT:TYPE=STRING

OBJECT=VARSTEMP0
VARSTEMP0:TYPE=STRING

OBJECT=VARIKEY
VARIKEY:TYPE=INTEGER

OBJECT=MOUSE
MOUSE:TYPE=MOUSE
MOUSE:RAW=

OBJECT=CNVLOADER
CNVLOADER:TYPE=CNVLOADER

OBJECT=CANVASOBSERVER
CANVASOBSERVER:TYPE=CANVAS_OBSERVER

OBJECT=KEYBOARD
KEYBOARD:TYPE=KEYBOARD

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={__GAME_INIT__^RUN();G_MENU^SETSCENE("START");G_MENU^SHOW(TRUE);G_MENU^HIDEEXP();G_MENU^SHOWWAND(FALSE);G_CURSOR^SETSCENE("START");G_CARD^SETSCENE("START");G_ANNPAGE^HIDE();@IF("S_BFIRSTINTRO","_","TRUE","BFITMP0","");G_MENU^SETRESUME();START^STARTMUSIC("PAGORKI.WAV");START^SETMUSICVOLUME(G_ARRSETTINGS^GET(1));G_AMBIENT^SETAMBIENT("NULL");}


OBJECT=_LOADGAME_
_LOADGAME_:TYPE=BEHAVIOUR
_LOADGAME_:CODE={@IF(G_ARRDATAS^FIND(G_SARCADEOBJECTS),">","-1","BFITMP1","BFITMP2");}


OBJECT=_MENUEXIT_
_MENUEXIT_:TYPE=BEHAVIOUR
_MENUEXIT_:CODE={}


OBJECT=_VOLUME_
_VOLUME_:TYPE=BEHAVIOUR
_VOLUME_:CODE={START^SETMUSICVOLUME(G_ARRSETTINGS^GET(1));}


OBJECT=_NEWGAME_
_NEWGAME_:TYPE=BEHAVIOUR
_NEWGAME_:CODE={@IF(G_ARRDATAS^FIND(G_SARCADEOBJECTS),">","-1","BFITMP3","BFITMP4");}


OBJECT=__HELPSTART__
__HELPSTART__:TYPE=BEHAVIOUR
__HELPSTART__:CODE={SCENENAME^SET(PRZYGODA^GETCURRENTSCENE());MOUSE^DISABLESIGNAL();__KEYB__^SET(KEYBOARD^ISENABLED());KEYBOARD^DISABLE();__HSPOTMAX__^SET(*SCENENAME^GETMAXHSPRIORITY());__HSPOTMIN__^SET(*SCENENAME^GETMINHSPRIORITY());*SCENENAME^GETPLAYINGANIMO("__GRHELP__");CNVLOADER^LOAD([G_SCUTSCENE+".CNV"]);}


OBJECT=__HELPEND__
__HELPEND__:TYPE=BEHAVIOUR
__HELPEND__:CODE={MOUSE^ENABLESIGNAL();KEYBOARD^ENABLE();CNVLOADER^RELEASE([G_SCUTSCENE+".CNV"]);START^SETMUSICVOLUME(G_ARRSETTINGS^GET(1));}


OBJECT=_CURSORMOVE_
_CURSORMOVE_:TYPE=BEHAVIOUR
_CURSORMOVE_:CODE={G_CURSOR^SETOBJECT(CANVASOBSERVER^GETGRAPHICSAT(MOUSE^GETPOSX(),MOUSE^GETPOSY(),TRUE,0,5000,TRUE));}


OBJECT=__PAUSESTART__
__PAUSESTART__:TYPE=BEHAVIOUR
__PAUSESTART__:CODE={SCENENAME^SET(PRZYGODA^GETCURRENTSCENE());MOUSE^DISABLESIGNAL();__KEYB__^SET(KEYBOARD^ISENABLED());KEYBOARD^DISABLE();__HSPOTMAX__^SET(*SCENENAME^GETMAXHSPRIORITY());__HSPOTMIN__^SET(*SCENENAME^GETMINHSPRIORITY());*SCENENAME^GETPLAYINGANIMO("__GRHELP__");}


OBJECT=__PAUSEEND__
__PAUSEEND__:TYPE=BEHAVIOUR
__PAUSEEND__:CODE={MOUSE^ENABLESIGNAL();KEYBOARD^ENABLE();START^SETMUSICVOLUME(G_ARRSETTINGS^GET(1));__GRHELP__^REMOVEALL();}


OBJECT=BFITMP0
BFITMP0:TYPE=BEHAVIOUR
BFITMP0:CODE={G_MENU^NEWGAMESTART();PRZYGODA^GOTO("INTRO_1");@BREAK();}


OBJECT=BFITMP1
BFITMP1:TYPE=BEHAVIOUR
BFITMP1:CODE={PRZYGODA^GOTO("ARCADE");}


OBJECT=BFITMP2
BFITMP2:TYPE=BEHAVIOUR
BFITMP2:CODE={PRZYGODA^GOTO(G_SARCADEOBJECTS);}


OBJECT=BFITMP3
BFITMP3:TYPE=BEHAVIOUR
BFITMP3:CODE={PRZYGODA^GOTO("ARCADE");@BREAK();}


OBJECT=BFITMP4
BFITMP4:TYPE=BEHAVIOUR
BFITMP4:CODE={PRZYGODA^GOTO(G_SARCADEOBJECTS);@BREAK();}


